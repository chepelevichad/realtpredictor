# **Программное средство оценки рыночной стоимости недвижимости на основе нейронной сети**

**Описание проекта:** 
Проект представляет собой программное средство для оценки рыночной стоимости недвижимости на основе нейронной сети. Основой проекта является веб-приложение, которое позволяет пользователям вводить параметры объекта недвижимости и получать точную рыночную оценку, сгенерированную нейросетевой моделью. Система также предоставляет аналитические инструменты для риэлторов и администраторов.

**Цель программного средства:** 
Повысить точность оценки рыночной стоимости недвижимости на 15% по сравнению с традиционными методами, сократить время на подготовку отчета для риэлторов с нескольких часов до 10 минут и предоставить клиентам прозрачный и быстрый инструмент для принятия обоснованных решений при сделках с недвижимостью.

**Основные возможности:**
Программное средство предоставляет следующий функционал:

1.  **Оценка недвижимости**: Ввод параметров объекта и получение рыночной стоимости на основе нейросетевой модели.
2.  **Анализ рынка**: Доступ к аналитическим данным и визуализации рыночных трендов.
3.  **Генерация отчетов**: Автоматическое создание подробных PDF-отчетов по результатам оценки.
4.  **Управление моделями и данными**: Интерфейс для администраторов для управления датасетами и версиями нейросетевых моделей.


**Ссылки на репозитории сервера и клиента**

Серверная часть: https://github.com/chepelevichad/realtpredictor_server

Клиентская часть: https://github.com/chepelevichad/realtdredictor_client

---

## **Содержание**

1. [Архитектура](#Архитектура)
	1. [C4-модель](#C4-модель)
	2. [Схема данных](#Схема_данных)
2. [Функциональные возможности](#Функциональные_возможности)
	1. [Диаграмма вариантов использования](#Диаграмма_вариантов_использования)
	2. [User-flow диаграммы](#User-flow_диаграммы)
3. [Детали реализации](#Детали_реализации)
	1. [UML-диаграммы](#UML-диаграммы)
	2. [Спецификация API](#Спецификация_API)
	3. [Безопасность](#Безопасность)
	4. [Оценка качества кода](#Оценка_качества_кода)
4. [Тестирование](#Тестирование)
	1. [Unit-тесты](#Unit-тесты)
	2. [Интеграционные тесты](#Интеграционные_тесты)
5. [Установка и  запуск](#installation)
	1. [Манифесты для сборки docker образов](#Манифесты_для_сборки_docker_образов)
	2. [Манифесты для развертывания k8s кластера](#Манифесты_для_развертывания_k8s_кластера)
6. [Лицензия](#Лицензия)
7. [Контакты](#Контакты)

---
## **Архитектура**

### C4-модель

**Контейнерный уровень архитектуры ПС**

<img width="1703" height="848" alt="image" src="https://github.com/user-attachments/assets/9d785c2b-2ad7-4dfc-8a0e-11c158d4d953" />

Программное средство оценки рыночной стоимости недвижимости на основе нейронной сети «RealtPredictor» представлено как специализированная информационная система, обеспечивающая взаимодействие между тремя основными группами пользователей: клиентами, риэлторами/оценщиками и администраторами системы.

**Клиенты** являются лицами, заинтересованными в получении быстрой и точной рыночной оценки объектов недвижимости. Они вводят ключевые параметры объекта (адрес, площадь, количество комнат и т.д.) через веб-интерфейс и получают результат оценки и отчеты.

**Риэлторы и оценщики** используют систему как профессиональный инструмент для быстрой оценки объектов, анализа рыночных трендов и консультирования клиентов. Для них доступен расширенный функционал, включая пакетную оценку и доступ к истории оценок.

**Администраторы** обеспечивают техническую поддержку системы, управляют учетными записями, контролируют источники данных для обучения нейронной сети и управляют жизненным циклом моделей машинного обучения.

Архитектура системы включает следующие компоненты:

*   **Клиентское приложение (RealtPredictor_Client)**, разработанное на JavaScript (Vue.js), предоставляет интерфейс для ввода данных об объекте, визуализации результатов оценки и просмотра отчетов.
*   **Серверная часть (RealtPredictor_Server)** на Python (Django Rest Framework) содержит основную бизнес-логику. Ключевым элементом является нейросетевая модель для расчета стоимости. Сервер обрабатывает данные через REST API.
*   **База данных PostgreSQL** хранит данные о пользователях, объектах недвижимости, историю оценок и датасеты для обучения модели.
*   **Внешние сервисы**: Google Analytics для анализа пользовательского поведения и UniSender для отправки отчетов и уведомлений по электронной почте.

**Компонентный уровень архитектуры ПС**

<img width="1952" height="756" alt="image" src="https://github.com/user-attachments/assets/91db37f0-8e54-463f-bfc7-e01bcfe6270a" />

На пользовательском уровне система обслуживает три типа пользователей: Клиент, Риэлтор/Оценщик и Администратор. Для каждого типа реализованы специализированные веб-приложения, взаимодействующие с сервером через REST API.

**Серверная архитектура:**

*   **Балансировщик нагрузки (Nginx)** распределяет входящие запросы.
*   **Микросервисы (DRF Services):**
    *   **Сервис авторизации**: Управляет учетными записями и аутентификацией (JWT в Redis, данные в PostgreSQL).
    *   **Сервис профилей**: Реализует логику взаимодействия и хранения профилей пользователей.
    *   **Сервис оценки (Prediction Service)**: Обрабатывает запросы на оценку, взаимодействует с нейросетевой моделью, сохраняет результаты в PostgreSQL и логирует операции в MongoDB.
    *   **Сервис генерации отчетов**: Формирует PDF-отчеты на основе результатов оценки и сохраняет их с помощью файлового сервиса.
    *   **Сервис данных (Data Service)**: Управляет датасетами для обучения моделей, их версионированием и предобработкой.
    *   **Сервис уведомлений**: Реализует email-рассылки через UniSender с использованием очереди RabbitMQ.
    *   **Сервис контента**: Управляет новостями и информационными баннерами на сайте.
    *   **Сервис аналитики**: Собирает метрики использования системы (real-time в Redis, агрегированные в PostgreSQL) и отправляет их в Google Analytics.
    *   **CRM-сервис**: Администрирует базу клиентов и управляет маркетинговыми рассылками.
    *   **Файловый сервис**: Управляет хранением PDF-отчетов и других документов.

**Уровень хранения данных:**

*   **PostgreSQL**: Основная реляционная БД.
*   **Redis**: In-memory хранилище для кэширования, сессий и JWT токенов.
*   **MongoDB**: Документоориентированная БД для хранения логов и неструктурированных данных.

### Схема данных

Схема данных спроектирована для хранения информации о пользователях (клиенты, риэлторы, администраторы), объектах недвижимости (адрес, площадь, количество комнат, этаж и др.), истории произведенных оценок, а также датасетах и метаданных обученных моделей. Основные сущности включают `User`, `Property`, `Prediction`, `Report`, `Dataset`.

Скрипт для генерации структуры БД находится в репозитории сервера по пути: `/database/init.sql`.

## **Функциональные возможности**

### Диаграмма вариантов использования

Диаграмма вариантов использования и ее описание

### User-flow диаграммы

Описание переходов между части ПС для всех ролей из диаграммы ВИ (название ролей должны совпадать с тем, что указано на c4-модели и диаграмме вариантов использования)



### Схема данных

Описание отношений и структур данных, используемых в ПС. Также представить скрипт (программный код), который необходим для генерации БД

---

## **Функциональные возможности**

### Диаграмма вариантов использования

Диаграмма вариантов использования и ее описание

---

## **Детали реализации**

### UML-диаграммы

Представить все UML-диаграммы , которые позволят более точно понять структуру и детали реализации ПС

### Спецификация API

Представить описание реализованных функциональных возможностей ПС с использованием Open API (можно представить либо полный файл спецификации, либо ссылку на него)

### Безопасность

Описать подходы, использованные для обеспечения безопасности, включая описание процессов аутентификации и авторизации с примерами кода из репозитория сервера

### Оценка качества кода

Используя показатели качества и метрики кода, оценить его качество

---

## **Тестирование**

### Unit-тесты

Представить код тестов для пяти методов и его пояснение

### Интеграционные тесты

Представить код тестов и его пояснение

---

## **Установка и  запуск**

### Манифесты для сборки docker образов

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

### Манифесты для развертывания k8s кластера

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

---

## **Лицензия**

Этот проект лицензирован по лицензии MIT - подробности представлены в файле [LICENSE]

---

## **Контакты**

Автор: vladvladchepelevich@gmail.com
